function _defineProperty(l,n,e){return n in l?Object.defineProperty(l,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):l[n]=e,l}function _possibleConstructorReturn(l,n){return!n||"object"!=typeof n&&"function"!=typeof n?_assertThisInitialized(l):n}function _assertThisInitialized(l){if(void 0===l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function _getPrototypeOf(l){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(l){return l.__proto__||Object.getPrototypeOf(l)})(l)}function _inherits(l,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(n&&n.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),n&&_setPrototypeOf(l,n)}function _setPrototypeOf(l,n){return(_setPrototypeOf=Object.setPrototypeOf||function(l,n){return l.__proto__=n,l})(l,n)}function _defineProperties(l,n){for(var e=0;e<n.length;e++){var t=n[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}function _createClass(l,n,e){return n&&_defineProperties(l.prototype,n),e&&_defineProperties(l,e),l}function _classCallCheck(l,n){if(!(l instanceof n))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{pXC7:function(l,n,e){"use strict";e.r(n);var t=e("kZht"),u=function l(){_classCallCheck(this,l)},i=e("iwai"),o=e("C9Ky"),r=e("8F/p"),a=e("SkaO"),s=e("1VvW"),c=e("NxuZ"),d=e("ENSU"),p=e("bWrj"),m=function(){function l(n){_classCallCheck(this,l),this.controls=n}return _createClass(l,[{key:"onClose",value:function(l){console.log("Close function called")}},{key:"save",value:function(l){console.log("Save function called"),this.controls.click(l,{type:"save",name:"Save"})}}]),l}(),b=t.nb({encapsulation:2,styles:[],data:{}});function f(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,9,"wiz-wizard",[["title","SEB ng-wizard: Protecting steps"]],null,[[null,"close"]],(function(l,n,e){var t=!0;return"close"===n&&(t=!1!==l.component.onClose()&&t),t}),r.b,r.a)),t.ob(1,114688,null,0,a.b,[s.l,s.a,t.j],{title:[0,"title"]},{close:"close"}),(l()(),t.pb(2,0,null,0,4,"div",[["class","wizard-actions"]],null,null,null,null,null)),(l()(),t.pb(3,0,null,null,3,"button",[["class","btn btn-secondary d-flex justify-content-between"]],null,[[null,"click"]],(function(l,n,e){var t=!0;return"click"===n&&(t=!1!==l.component.save(e)&&t),t}),null,null)),(l()(),t.Ib(-1,null,[" Save "])),(l()(),t.pb(5,0,null,null,1,"fa-icon",[["class","ml-2 ng-fa-icon"],["icon","save"]],[[1,"title",0],[8,"innerHTML",1]],null,null,i.d,i.c)),t.ob(6,573440,null,0,c.c,[d.b,c.a,c.d,[2,c.i]],{icon:[0,"icon"]},null),(l()(),t.pb(7,0,null,1,2,"div",[["class","wizard-main col-12 col-lg order-1 order-md-0 mr-lg-3"]],null,null,null,null,null)),(l()(),t.pb(8,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),t.ob(9,212992,null,0,s.q,[s.b,t.M,t.j,[8,null],t.h],null,null)],(function(l,n){l(n,1,0,"SEB ng-wizard: Protecting steps"),l(n,6,0,"save"),l(n,9,0)}),(function(l,n){l(n,5,0,t.Ab(n,6).title,t.Ab(n,6).renderedIconHTML)}))}var g,v=t.lb("app-form-and-route-guard",m,(function(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,1,"app-form-and-route-guard",[],null,null,null,f,b)),t.ob(1,49152,null,0,m,[p.a],null,null)],null,null)}),{},{},[]),h=e("An66"),C=e("3kIJ"),y=e("ZTXN"),I=e("xVbo"),A=e("8j5Y"),k=e("pBDD"),x=e("mW0F"),F=function(){function l(n){_classCallCheck(this,l),this.notifier=n}return _createClass(l,[{key:"call",value:function(l,n){var e=new N(l),t=Object(x.a)(e,this.notifier);return t&&!e.seenValue?(e.add(t),n.subscribe(e)):e}}]),l}(),N=function(l){function n(l){var e;return _classCallCheck(this,n),(e=_possibleConstructorReturn(this,_getPrototypeOf(n).call(this,l))).seenValue=!1,e}return _inherits(n,l),_createClass(n,[{key:"notifyNext",value:function(l,n,e,t,u){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(k.a),w=e("C05f"),S=e("YtkY"),_=((g=function(){function l(){_classCallCheck(this,l),this.$steps=new w.a({})}return _createClass(l,[{key:"saveState",value:function(l,n,e){this._steps=Object.assign({},this._steps,_defineProperty({},l,{state:n,data:e})),this.$steps.next(this._steps)}},{key:"getState",value:function(l){return this.$steps.asObservable().pipe(Object(S.a)((function(n){return n[l]})))}}]),l}()).ngInjectableDef=t.Ob({factory:function(){return new g},token:g,providedIn:"root"}),g),T=function(){function l(n,e,t,u,i){var o=this;_classCallCheck(this,l),this.stepService=n,this.fb=e,this.controls=t,this.cdr=u,this.el=i,this.unsubscribe$=new y.a,this.submitted=!1,this.profileForm=e.group({firstName:["",C.r.required],lastName:["",C.r.required],email:["",[C.r.required,C.r.email],this.checkValidEmail],street:[""],extra:[""],city:[""],zip:[""],accept:["",C.r.requiredTrue],help:[!0]}),this.$stepStatus=this.stepService.getState("/form-and-route-guard/form-step").pipe(Object(I.a)((function(l){return l&&l.data})),Object(A.a)((function(l){return o.profileForm.setValue(l.data)})),Object(A.a)((function(l){return o.cdr.detectChanges()})))}return _createClass(l,[{key:"save",value:function(){this.profileForm.valid&&this.stepService.saveState("/form-and-route-guard/form-step",this.profileForm.valid,this.profileForm.value)}},{key:"_focusInvalid",value:function(){var l=this;if(this.profileForm.invalid){var n=Object.keys(this.profileForm.controls).find((function(n){return l.profileForm.controls[n].invalid}));n&&this.el.nativeElement.querySelector('[formcontrolname="'+n+'"]').focus()}else{var e=this.el.nativeElement.querySelector(".alert.alert-danger");e&&e.focus()}}},{key:"checkValidEmail",value:function(l){return new Promise((function(n,e){setTimeout((function(){n("john.doe@seb.se"===l.value?{emailIsTaken:!0}:null)}),3e3)}))}},{key:"ngOnInit",value:function(){var l,n=this;this.controls.controlEvent$.pipe((l=this.unsubscribe$,function(n){return n.lift(new F(l))})).subscribe((function(l){switch(l.type){case"next":n.submitted=!0,n.profileForm.markAllAsTouched(),n._focusInvalid();break;case"save":n.submitted=!0,n.profileForm.markAllAsTouched(),n.save(),n._focusInvalid();break;case"cancel":n.profileForm.reset(),n.stepService.saveState("/form-and-route-guard/form-step",n.profileForm.valid,n.profileForm.value),n.submitted=!1}}))}},{key:"ngOnDestroy",value:function(){this.unsubscribe$.next(),this.unsubscribe$.complete()}},{key:"firstName",get:function(){return this.profileForm.get("firstName")}},{key:"lastName",get:function(){return this.profileForm.get("lastName")}},{key:"email",get:function(){return this.profileForm.get("email")}},{key:"accept",get:function(){return this.profileForm.get("accept")}},{key:"help",get:function(){return this.profileForm.get("help")}}]),l}(),M=t.nb({encapsulation:2,styles:[],data:{}});function q(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),t.Ib(-1,null,["The form contains error, you need to correct them before proceeding."]))],null,null)}function O(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),t.Ib(-1,null,["You need to save the information before continuing to the next step."]))],null,null)}function P(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,4,"div",[["class","alert alert-danger alert-icon mx-n3 mx-sm-0"],["tabindex","-1"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,q)),t.ob(2,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,O)),t.ob(4,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component;l(n,2,0,e.profileForm.invalid||e.profileForm.pending),l(n,4,0,e.profileForm.valid)}),null)}function j(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,1,null,null,null,null,null,null,null)),(l()(),t.Ib(-1,null,["You're profile was successfully saved!"]))],null,null)}function E(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,2,"div",[["class","alert alert-success alert-icon mx-n3 mx-sm-0"]],null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,j)),t.ob(2,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){l(n,2,0,n.component.profileForm.valid)}),null)}function z(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,P)),t.ob(2,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,E)),t.ob(4,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,!n.context.ngIf.isOk&&e.submitted),l(n,4,0,n.context.ngIf.isOk&&e.submitted&&e.profileForm.valid)}),null)}function K(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"fa-icon",[["class","mr-1 ng-fa-icon"],["icon","exclamation-triangle"]],[[1,"title",0],[8,"innerHTML",1]],null,null,i.d,i.c)),t.ob(2,573440,null,0,c.c,[d.b,c.a,c.d,[2,c.i]],{icon:[0,"icon"]},null),(l()(),t.Ib(-1,null,["This field can't be empty"]))],(function(l,n){l(n,2,0,"exclamation-triangle")}),(function(l,n){l(n,1,0,t.Ab(n,2).title,t.Ab(n,2).renderedIconHTML)}))}function L(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"fa-icon",[["class","mr-1 ng-fa-icon"],["icon","check-circle"]],[[1,"title",0],[8,"innerHTML",1]],null,null,i.d,i.c)),t.ob(2,573440,null,0,c.c,[d.b,c.a,c.d,[2,c.i]],{icon:[0,"icon"]},null),(l()(),t.Ib(-1,null,["Field is valid"]))],(function(l,n){l(n,2,0,"check-circle")}),(function(l,n){l(n,1,0,t.Ab(n,2).title,t.Ab(n,2).renderedIconHTML)}))}function V(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,7,"div",[],null,null,null,null,null)),t.Fb(512,null,h.t,h.u,[t.q,t.r,t.k,t.B]),t.ob(2,278528,null,0,h.j,[h.t],{ngClass:[0,"ngClass"]},null),t.Db(3,{"invalid-feedback":0,"valid-feedback":1}),(l()(),t.eb(16777216,null,null,1,null,K)),t.ob(5,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,L)),t.ob(7,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,t=l(n,3,0,e.firstName.invalid,e.firstName.valid);l(n,2,0,t),l(n,5,0,null==e.firstName.errors?null:e.firstName.errors.required),l(n,7,0,e.firstName.valid)}),null)}function D(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"fa-icon",[["class","mr-1 ng-fa-icon"],["icon","exclamation-triangle"]],[[1,"title",0],[8,"innerHTML",1]],null,null,i.d,i.c)),t.ob(2,573440,null,0,c.c,[d.b,c.a,c.d,[2,c.i]],{icon:[0,"icon"]},null),(l()(),t.Ib(-1,null,["This field can't be empty"]))],(function(l,n){l(n,2,0,"exclamation-triangle")}),(function(l,n){l(n,1,0,t.Ab(n,2).title,t.Ab(n,2).renderedIconHTML)}))}function B(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"fa-icon",[["class","mr-1 ng-fa-icon"],["icon","check-circle"]],[[1,"title",0],[8,"innerHTML",1]],null,null,i.d,i.c)),t.ob(2,573440,null,0,c.c,[d.b,c.a,c.d,[2,c.i]],{icon:[0,"icon"]},null),(l()(),t.Ib(-1,null,["Field is valid"]))],(function(l,n){l(n,2,0,"check-circle")}),(function(l,n){l(n,1,0,t.Ab(n,2).title,t.Ab(n,2).renderedIconHTML)}))}function J(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,7,"div",[],null,null,null,null,null)),t.Fb(512,null,h.t,h.u,[t.q,t.r,t.k,t.B]),t.ob(2,278528,null,0,h.j,[h.t],{ngClass:[0,"ngClass"]},null),t.Db(3,{"invalid-feedback":0,"valid-feedback":1}),(l()(),t.eb(16777216,null,null,1,null,D)),t.ob(5,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,B)),t.ob(7,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,t=l(n,3,0,e.lastName.invalid,e.lastName.valid);l(n,2,0,t),l(n,5,0,null==e.lastName.errors?null:e.lastName.errors.required),l(n,7,0,e.lastName.valid)}),null)}function H(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"fa-icon",[["class","mr-1 ng-fa-icon"],["icon","exclamation-triangle"]],[[1,"title",0],[8,"innerHTML",1]],null,null,i.d,i.c)),t.ob(2,573440,null,0,c.c,[d.b,c.a,c.d,[2,c.i]],{icon:[0,"icon"]},null),(l()(),t.Ib(-1,null,["This field can't be empty"]))],(function(l,n){l(n,2,0,"exclamation-triangle")}),(function(l,n){l(n,1,0,t.Ab(n,2).title,t.Ab(n,2).renderedIconHTML)}))}function R(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"fa-icon",[["class","mr-1 ng-fa-icon"],["icon","exclamation-triangle"]],[[1,"title",0],[8,"innerHTML",1]],null,null,i.d,i.c)),t.ob(2,573440,null,0,c.c,[d.b,c.a,c.d,[2,c.i]],{icon:[0,"icon"]},null),(l()(),t.Ib(-1,null,["Email address is invalid"]))],(function(l,n){l(n,2,0,"exclamation-triangle")}),(function(l,n){l(n,1,0,t.Ab(n,2).title,t.Ab(n,2).renderedIconHTML)}))}function $(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"fa-icon",[["class","mr-1 ng-fa-icon"],["icon","exclamation-triangle"]],[[1,"title",0],[8,"innerHTML",1]],null,null,i.d,i.c)),t.ob(2,573440,null,0,c.c,[d.b,c.a,c.d,[2,c.i]],{icon:[0,"icon"]},null),(l()(),t.Ib(-1,null,["This email has already been registered"]))],(function(l,n){l(n,2,0,"exclamation-triangle")}),(function(l,n){l(n,1,0,t.Ab(n,2).title,t.Ab(n,2).renderedIconHTML)}))}function U(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,3,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"fa-icon",[["class","mr-1 ng-fa-icon"],["icon","check-circle"]],[[1,"title",0],[8,"innerHTML",1]],null,null,i.d,i.c)),t.ob(2,573440,null,0,c.c,[d.b,c.a,c.d,[2,c.i]],{icon:[0,"icon"]},null),(l()(),t.Ib(-1,null,["Field is valid"]))],(function(l,n){l(n,2,0,"check-circle")}),(function(l,n){l(n,1,0,t.Ab(n,2).title,t.Ab(n,2).renderedIconHTML)}))}function G(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,2,null,null,null,null,null,null,null)),(l()(),t.pb(1,0,null,null,0,"div",[["class","spinner spinner-xs mr-1 d-inline-block"],["style","vertical-align: -3px; z-index: 0;"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,[" Validating email"]))],null,null)}function W(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,13,"div",[],null,null,null,null,null)),t.Fb(512,null,h.t,h.u,[t.q,t.r,t.k,t.B]),t.ob(2,278528,null,0,h.j,[h.t],{ngClass:[0,"ngClass"]},null),t.Db(3,{"invalid-feedback":0,"valid-feedback":1,"progress-feedback progress-50":2}),(l()(),t.eb(16777216,null,null,1,null,H)),t.ob(5,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,R)),t.ob(7,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,$)),t.ob(9,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,U)),t.ob(11,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,G)),t.ob(13,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e=n.component,t=l(n,3,0,e.email.invalid,e.email.valid,e.email.pending);l(n,2,0,t),l(n,5,0,null==e.email.errors?null:e.email.errors.required),l(n,7,0,null==e.email.errors?null:e.email.errors.email),l(n,9,0,null==e.email.errors?null:e.email.errors.emailIsTaken),l(n,11,0,e.email.valid),l(n,13,0,e.email.pending)}),null)}function Y(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,1,"div",[["class","progress-feedback"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,[' Enter any email except "john.doe@seb.se" ']))],null,null)}function Z(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,3,"div",[["class","small text-danger mt-1 mb-n1"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"fa-icon",[["class","mr-1 ng-fa-icon"],["icon","exclamation-triangle"]],[[1,"title",0],[8,"innerHTML",1]],null,null,i.d,i.c)),t.ob(2,573440,null,0,c.c,[d.b,c.a,c.d,[2,c.i]],{icon:[0,"icon"]},null),(l()(),t.Ib(-1,null,["You need to accept the terms "]))],(function(l,n){l(n,2,0,"exclamation-triangle")}),(function(l,n){l(n,1,0,t.Ab(n,2).title,t.Ab(n,2).renderedIconHTML)}))}function X(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,3,"div",[["class","small text-success mt-1 mb-n1"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"fa-icon",[["class","mr-1 ng-fa-icon"],["icon","check-circle"]],[[1,"title",0],[8,"innerHTML",1]],null,null,i.d,i.c)),t.ob(2,573440,null,0,c.c,[d.b,c.a,c.d,[2,c.i]],{icon:[0,"icon"]},null),(l()(),t.Ib(-1,null,["Terms accepted "]))],(function(l,n){l(n,2,0,"check-circle")}),(function(l,n){l(n,1,0,t.Ab(n,2).title,t.Ab(n,2).renderedIconHTML)}))}function Q(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,4,null,null,null,null,null,null,null)),(l()(),t.eb(16777216,null,null,1,null,Z)),t.ob(2,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,X)),t.ob(4,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(0,null,null,0))],(function(l,n){var e=n.component;l(n,2,0,e.accept.invalid),l(n,4,0,e.accept.valid)}),null)}function ll(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,4,"p",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,[" Basic concept involves using a route guard with "])),(l()(),t.pb(2,0,null,null,1,"a",[["class","external"],["href","https://angular.io/api/router/CanActivate"],["target","_blank"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["CanActivate"])),(l()(),t.Ib(-1,null,[" to prevent navigation to a specif route. In this example we're going to use a simple service to store the form data which in turn will be used by the route guard to determine if navigation is allowed or not. We're also going to implement form validation to make sure the information we enter is valid before storing it in our service.\n"])),(l()(),t.pb(5,0,null,null,10,"p",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,[" There are many ways to set up a form in angular, this example uses "])),(l()(),t.pb(7,0,null,null,1,"a",[["class","external"],["href","https://angular.io/api/forms/FormBuilder"],["target","_blank"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Form Builder"])),(l()(),t.Ib(-1,null,[" and "])),(l()(),t.pb(10,0,null,null,1,"a",[["class","external"],["href","https://angular.io/guide/reactive-forms"],["target","_blank"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Reactive Forms"])),(l()(),t.Ib(-1,null,[" which provides a model-driven approach for forms. Feel free to use whatever you like and what suits your needs, the complete code with comments for this example can be found "])),(l()(),t.pb(13,0,null,null,1,"a",[["class","external"],["href",""],["target","_parent"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["here"])),(l()(),t.Ib(-1,null,[".\n"])),(l()(),t.eb(16777216,null,null,3,null,z)),t.ob(17,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),t.Cb(131072,h.b,[t.h]),t.Db(19,{isOk:0}),(l()(),t.pb(20,0,null,null,115,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngSubmit"],[null,"submit"],[null,"reset"]],(function(l,n,e){var u=!0,i=l.component;return"submit"===n&&(u=!1!==t.Ab(l,22).onSubmit(e)&&u),"reset"===n&&(u=!1!==t.Ab(l,22).onReset()&&u),"ngSubmit"===n&&(u=!1!==i.save()&&u),u}),null,null)),t.ob(21,16384,null,0,C.v,[],null,null),t.ob(22,540672,null,0,C.i,[[8,null],[8,null]],{form:[0,"form"]},{ngSubmit:"ngSubmit"}),t.Fb(2048,null,C.d,null,[C.i]),t.ob(24,16384,null,0,C.o,[[4,C.d]],null,null),(l()(),t.pb(25,0,null,null,69,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),t.pb(26,0,null,null,15,"div",[["class","form-group col-sm-6 col-xl-4"]],null,null,null,null,null)),(l()(),t.pb(27,0,null,null,1,"label",[["for","inputFirstName"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["First name"])),(l()(),t.pb(29,0,null,null,10,"input",[["class","form-control"],["formControlName","firstName"],["id","inputFirstName"],["placeholder","First name"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Ab(l,33)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Ab(l,33).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Ab(l,33)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Ab(l,33)._compositionEnd(e.target.value)&&u),u}),null,null)),t.Fb(512,null,h.t,h.u,[t.q,t.r,t.k,t.B]),t.ob(31,278528,null,0,h.j,[h.t],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Db(32,{"is-invalid":0,"is-valid":1}),t.ob(33,16384,null,0,C.e,[t.B,t.k,[2,C.a]],null,null),t.ob(34,16384,null,0,C.q,[],{required:[0,"required"]},null),t.Fb(1024,null,C.k,(function(l){return[l]}),[C.q]),t.Fb(1024,null,C.l,(function(l){return[l]}),[C.e]),t.ob(37,671744,null,0,C.h,[[3,C.d],[6,C.k],[8,null],[6,C.l],[2,C.u]],{name:[0,"name"]},null),t.Fb(2048,null,C.m,null,[C.h]),t.ob(39,16384,null,0,C.n,[[4,C.m]],null,null),(l()(),t.eb(16777216,null,null,1,null,V)),t.ob(41,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(42,0,null,null,15,"div",[["class","form-group col-sm-6 col-xl-4"]],null,null,null,null,null)),(l()(),t.pb(43,0,null,null,1,"label",[["for","inputLastName"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Last name"])),(l()(),t.pb(45,0,null,null,10,"input",[["class","form-control"],["formControlName","lastName"],["id","inputLastName"],["placeholder","Last name"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Ab(l,49)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Ab(l,49).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Ab(l,49)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Ab(l,49)._compositionEnd(e.target.value)&&u),u}),null,null)),t.Fb(512,null,h.t,h.u,[t.q,t.r,t.k,t.B]),t.ob(47,278528,null,0,h.j,[h.t],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Db(48,{"is-invalid":0,"is-valid":1}),t.ob(49,16384,null,0,C.e,[t.B,t.k,[2,C.a]],null,null),t.ob(50,16384,null,0,C.q,[],{required:[0,"required"]},null),t.Fb(1024,null,C.k,(function(l){return[l]}),[C.q]),t.Fb(1024,null,C.l,(function(l){return[l]}),[C.e]),t.ob(53,671744,null,0,C.h,[[3,C.d],[6,C.k],[8,null],[6,C.l],[2,C.u]],{name:[0,"name"]},null),t.Fb(2048,null,C.m,null,[C.h]),t.ob(55,16384,null,0,C.n,[[4,C.m]],null,null),(l()(),t.eb(16777216,null,null,1,null,J)),t.ob(57,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(58,0,null,null,18,"div",[["class","form-group col-md col-xl-8"]],null,null,null,null,null)),(l()(),t.pb(59,0,null,null,1,"label",[["for","inputEmail"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Email"])),(l()(),t.pb(61,0,null,null,11,"input",[["class","form-control"],["email",""],["formControlName","email"],["id","inputEmail"],["placeholder","Email"],["required",""],["type","email"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Ab(l,65)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Ab(l,65).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Ab(l,65)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Ab(l,65)._compositionEnd(e.target.value)&&u),u}),null,null)),t.Fb(512,null,h.t,h.u,[t.q,t.r,t.k,t.B]),t.ob(63,278528,null,0,h.j,[h.t],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Db(64,{"is-invalid":0,"is-valid":1}),t.ob(65,16384,null,0,C.e,[t.B,t.k,[2,C.a]],null,null),t.ob(66,16384,null,0,C.q,[],{required:[0,"required"]},null),t.ob(67,16384,null,0,C.f,[],{email:[0,"email"]},null),t.Fb(1024,null,C.k,(function(l,n){return[l,n]}),[C.q,C.f]),t.Fb(1024,null,C.l,(function(l){return[l]}),[C.e]),t.ob(70,671744,null,0,C.h,[[3,C.d],[6,C.k],[8,null],[6,C.l],[2,C.u]],{name:[0,"name"]},null),t.Fb(2048,null,C.m,null,[C.h]),t.ob(72,16384,null,0,C.n,[[4,C.m]],null,null),(l()(),t.eb(16777216,null,null,1,null,W)),t.ob(74,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.eb(16777216,null,null,1,null,Y)),t.ob(76,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null),(l()(),t.pb(77,0,null,null,8,"div",[["class","form-group col-xl-8"]],null,null,null,null,null)),(l()(),t.pb(78,0,null,null,1,"label",[["for","inputAddress"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Address"])),(l()(),t.pb(80,0,null,null,5,"input",[["class","form-control"],["formControlName","street"],["id","inputAddress"],["placeholder","1234 Main St"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Ab(l,81)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Ab(l,81).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Ab(l,81)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Ab(l,81)._compositionEnd(e.target.value)&&u),u}),null,null)),t.ob(81,16384,null,0,C.e,[t.B,t.k,[2,C.a]],null,null),t.Fb(1024,null,C.l,(function(l){return[l]}),[C.e]),t.ob(83,671744,null,0,C.h,[[3,C.d],[8,null],[8,null],[6,C.l],[2,C.u]],{name:[0,"name"]},null),t.Fb(2048,null,C.m,null,[C.h]),t.ob(85,16384,null,0,C.n,[[4,C.m]],null,null),(l()(),t.pb(86,0,null,null,8,"div",[["class","form-group col-xl-8"]],null,null,null,null,null)),(l()(),t.pb(87,0,null,null,1,"label",[["for","inputAddress2"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Address 2"])),(l()(),t.pb(89,0,null,null,5,"input",[["class","form-control"],["formControlName","extra"],["id","inputAddress2"],["placeholder","Apartment, studio, or floor"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Ab(l,90)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Ab(l,90).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Ab(l,90)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Ab(l,90)._compositionEnd(e.target.value)&&u),u}),null,null)),t.ob(90,16384,null,0,C.e,[t.B,t.k,[2,C.a]],null,null),t.Fb(1024,null,C.l,(function(l){return[l]}),[C.e]),t.ob(92,671744,null,0,C.h,[[3,C.d],[8,null],[8,null],[6,C.l],[2,C.u]],{name:[0,"name"]},null),t.Fb(2048,null,C.m,null,[C.h]),t.ob(94,16384,null,0,C.n,[[4,C.m]],null,null),(l()(),t.pb(95,0,null,null,18,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),t.pb(96,0,null,null,8,"div",[["class","form-group col-auto"]],null,null,null,null,null)),(l()(),t.pb(97,0,null,null,1,"label",[["for","inputZip"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Zip"])),(l()(),t.pb(99,0,null,null,5,"input",[["class","form-control"],["formControlName","zip"],["id","inputZip"],["style","width:100px;"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Ab(l,100)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Ab(l,100).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Ab(l,100)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Ab(l,100)._compositionEnd(e.target.value)&&u),u}),null,null)),t.ob(100,16384,null,0,C.e,[t.B,t.k,[2,C.a]],null,null),t.Fb(1024,null,C.l,(function(l){return[l]}),[C.e]),t.ob(102,671744,null,0,C.h,[[3,C.d],[8,null],[8,null],[6,C.l],[2,C.u]],{name:[0,"name"]},null),t.Fb(2048,null,C.m,null,[C.h]),t.ob(104,16384,null,0,C.n,[[4,C.m]],null,null),(l()(),t.pb(105,0,null,null,8,"div",[["class","form-group col col-sm-6 col-xl-4"]],null,null,null,null,null)),(l()(),t.pb(106,0,null,null,1,"label",[["for","inputCity"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["City"])),(l()(),t.pb(108,0,null,null,5,"input",[["class","form-control"],["formControlName","city"],["id","inputCity"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(l,n,e){var u=!0;return"input"===n&&(u=!1!==t.Ab(l,109)._handleInput(e.target.value)&&u),"blur"===n&&(u=!1!==t.Ab(l,109).onTouched()&&u),"compositionstart"===n&&(u=!1!==t.Ab(l,109)._compositionStart()&&u),"compositionend"===n&&(u=!1!==t.Ab(l,109)._compositionEnd(e.target.value)&&u),u}),null,null)),t.ob(109,16384,null,0,C.e,[t.B,t.k,[2,C.a]],null,null),t.Fb(1024,null,C.l,(function(l){return[l]}),[C.e]),t.ob(111,671744,null,0,C.h,[[3,C.d],[8,null],[8,null],[6,C.l],[2,C.u]],{name:[0,"name"]},null),t.Fb(2048,null,C.m,null,[C.h]),t.ob(113,16384,null,0,C.n,[[4,C.m]],null,null),(l()(),t.pb(114,0,null,null,21,"div",[["class","form-row"]],null,null,null,null,null)),(l()(),t.pb(115,0,null,null,20,"div",[["class","form-group col col-sm-auto"]],null,null,null,null,null)),(l()(),t.pb(116,0,null,null,17,"div",[],null,null,null,null,null)),t.Fb(512,null,h.t,h.u,[t.q,t.r,t.k,t.B]),t.ob(118,278528,null,0,h.j,[h.t],{ngClass:[0,"ngClass"]},null),t.Db(119,{"border-danger":0,"border-success":1,"border rounded p-3":2}),(l()(),t.pb(120,0,null,null,13,"div",[["class","custom-control custom-checkbox"]],null,null,null,null,null)),(l()(),t.pb(121,0,null,null,10,"input",[["class","custom-control-input"],["formControlName","accept"],["id","gridCheck"],["required",""],["type","checkbox"]],[[1,"required",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(l,n,e){var u=!0;return"change"===n&&(u=!1!==t.Ab(l,125).onChange(e.target.checked)&&u),"blur"===n&&(u=!1!==t.Ab(l,125).onTouched()&&u),u}),null,null)),t.Fb(512,null,h.t,h.u,[t.q,t.r,t.k,t.B]),t.ob(123,278528,null,0,h.j,[h.t],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Db(124,{"is-invalid":0,"is-valid":1}),t.ob(125,16384,null,0,C.b,[t.B,t.k],null,null),t.ob(126,16384,null,0,C.c,[],{required:[0,"required"]},null),t.Fb(1024,null,C.k,(function(l){return[l]}),[C.c]),t.Fb(1024,null,C.l,(function(l){return[l]}),[C.b]),t.ob(129,671744,null,0,C.h,[[3,C.d],[6,C.k],[8,null],[6,C.l],[2,C.u]],{name:[0,"name"]},null),t.Fb(2048,null,C.m,null,[C.h]),t.ob(131,16384,null,0,C.n,[[4,C.m]],null,null),(l()(),t.pb(132,0,null,null,1,"label",[["class","custom-control-label"],["for","gridCheck"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,[" Accept terms "])),(l()(),t.eb(16777216,null,null,1,null,Q)),t.ob(135,16384,null,0,h.l,[t.M,t.J],{ngIf:[0,"ngIf"]},null)],(function(l,n){var e,u=n.component,i=l(n,19,0,null==(e=t.Jb(n,17,0,t.Ab(n,18).transform(u.$stepStatus)))?null:e.state);l(n,17,0,i),l(n,22,0,u.profileForm);var o=l(n,32,0,u.firstName.invalid&&u.firstName.touched&&u.submitted,u.firstName.valid&&u.submitted);l(n,31,0,"form-control",o),l(n,34,0,""),l(n,37,0,"firstName"),l(n,41,0,(u.firstName.dirty||u.firstName.touched)&&u.submitted);var r=l(n,48,0,u.lastName.invalid&&u.lastName.touched&&u.submitted,u.lastName.valid&&u.submitted);l(n,47,0,"form-control",r),l(n,50,0,""),l(n,53,0,"lastName"),l(n,57,0,(u.lastName.dirty||u.lastName.touched)&&u.submitted);var a=l(n,64,0,u.email.invalid&&u.email.touched&&u.submitted,u.email.valid&&u.submitted);l(n,63,0,"form-control",a),l(n,66,0,""),l(n,67,0,""),l(n,70,0,"email"),l(n,74,0,(u.email.dirty||u.email.touched)&&u.submitted),l(n,76,0,!u.email.touched&&!u.email.pending&&!u.email.valid||!u.submitted),l(n,83,0,"street"),l(n,92,0,"extra"),l(n,102,0,"zip"),l(n,111,0,"city");var s=l(n,119,0,u.accept.invalid&&u.submitted,u.accept.valid&&u.submitted,u.submitted);l(n,118,0,s);var c=l(n,124,0,u.accept.invalid&&u.submitted,u.accept.valid&&u.submitted);l(n,123,0,"custom-control-input",c),l(n,126,0,""),l(n,129,0,"accept"),l(n,135,0,u.submitted)}),(function(l,n){l(n,20,0,t.Ab(n,24).ngClassUntouched,t.Ab(n,24).ngClassTouched,t.Ab(n,24).ngClassPristine,t.Ab(n,24).ngClassDirty,t.Ab(n,24).ngClassValid,t.Ab(n,24).ngClassInvalid,t.Ab(n,24).ngClassPending),l(n,29,0,t.Ab(n,34).required?"":null,t.Ab(n,39).ngClassUntouched,t.Ab(n,39).ngClassTouched,t.Ab(n,39).ngClassPristine,t.Ab(n,39).ngClassDirty,t.Ab(n,39).ngClassValid,t.Ab(n,39).ngClassInvalid,t.Ab(n,39).ngClassPending),l(n,45,0,t.Ab(n,50).required?"":null,t.Ab(n,55).ngClassUntouched,t.Ab(n,55).ngClassTouched,t.Ab(n,55).ngClassPristine,t.Ab(n,55).ngClassDirty,t.Ab(n,55).ngClassValid,t.Ab(n,55).ngClassInvalid,t.Ab(n,55).ngClassPending),l(n,61,0,t.Ab(n,66).required?"":null,t.Ab(n,72).ngClassUntouched,t.Ab(n,72).ngClassTouched,t.Ab(n,72).ngClassPristine,t.Ab(n,72).ngClassDirty,t.Ab(n,72).ngClassValid,t.Ab(n,72).ngClassInvalid,t.Ab(n,72).ngClassPending),l(n,80,0,t.Ab(n,85).ngClassUntouched,t.Ab(n,85).ngClassTouched,t.Ab(n,85).ngClassPristine,t.Ab(n,85).ngClassDirty,t.Ab(n,85).ngClassValid,t.Ab(n,85).ngClassInvalid,t.Ab(n,85).ngClassPending),l(n,89,0,t.Ab(n,94).ngClassUntouched,t.Ab(n,94).ngClassTouched,t.Ab(n,94).ngClassPristine,t.Ab(n,94).ngClassDirty,t.Ab(n,94).ngClassValid,t.Ab(n,94).ngClassInvalid,t.Ab(n,94).ngClassPending),l(n,99,0,t.Ab(n,104).ngClassUntouched,t.Ab(n,104).ngClassTouched,t.Ab(n,104).ngClassPristine,t.Ab(n,104).ngClassDirty,t.Ab(n,104).ngClassValid,t.Ab(n,104).ngClassInvalid,t.Ab(n,104).ngClassPending),l(n,108,0,t.Ab(n,113).ngClassUntouched,t.Ab(n,113).ngClassTouched,t.Ab(n,113).ngClassPristine,t.Ab(n,113).ngClassDirty,t.Ab(n,113).ngClassValid,t.Ab(n,113).ngClassInvalid,t.Ab(n,113).ngClassPending),l(n,121,0,t.Ab(n,126).required?"":null,t.Ab(n,131).ngClassUntouched,t.Ab(n,131).ngClassTouched,t.Ab(n,131).ngClassPristine,t.Ab(n,131).ngClassDirty,t.Ab(n,131).ngClassValid,t.Ab(n,131).ngClassInvalid,t.Ab(n,131).ngClassPending)}))}var nl=t.lb("app-reactive-form",T,(function(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,1,"app-reactive-form",[],null,null,null,ll,M)),t.ob(1,245760,null,0,T,[_,C.g,p.a,t.h,t.k],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),el=e("tVgD"),tl=e("KeTA"),ul=function l(){_classCallCheck(this,l),this.routerOutlet='\x3c!-- add wizard component and router outlet --\x3e\n<wiz-wizard\n  title="SEB ng-wizard: Protecting steps"\n  (close)="onClose()">\n  \x3c!-- wizard-actions can be used to add controls to header --\x3e\n  <div class="wizard-actions">\n    <button class="btn btn-secondary d-flex justify-content-between" (click)="save()">\n      Save <fa-icon icon="save" class="ml-2"></fa-icon>\n    </button>\n  </div>\n  <div class="wizard-main col-12 col-lg order-1 order-md-0 mr-lg-3">\n    <router-outlet></router-outlet>\n  </div>\n</wiz-wizard>\n\n',this.routerOutletTs="import { Component } from '@angular/core';\nimport { WizardControlService } from '@sebgroup/ng-wizard';\n\n@Component({\n  selector: 'app-form-and-route-guard',\n  templateUrl: './form-and-route-guard.component.html',\n  styleUrls: ['./form-and-route-guard.component.scss']\n})\nexport class FormAndRouteGuardComponent {\n\n  constructor(private controls: WizardControlService) {}\n\n  /**\n   * Global close function - function is available on all steps\n   */\n  onClose(event?: MouseEvent) {\n    console.log('Close function called');\n  }\n\n  /**\n   * Global save function - function is available on all steps\n   */\n  save($event: MouseEvent) {\n    console.log('Save function called');\n\n    // optionally the wizard control service can be used to emit an control event\n    this.controls.click($event, { type: 'save', name: 'Save' });\n  }\n}\n\n",this.template='<p>\n  Basic concept involves using a route guard with\n  <a href="https://angular.io/api/router/CanActivate" target="_blank" class="external">CanActivate</a> to prevent\n  navigation to a specif route. In this example we\'re going to use a simple service to store the form data which in turn\n  will be used by the route guard to determine if navigation is allowed or not. We\'re also going to implement form\n  validation to make sure the information we enter is valid before storing it in our service.\n</p>\n<p>\n  There are many ways to set up a form in angular, this example uses\n  <a href="https://angular.io/api/forms/FormBuilder" target="_blank" class="external">Form Builder</a> and\n  <a href="https://angular.io/guide/reactive-forms" target="_blank" class="external">Reactive Forms</a> which provides a\n  model-driven approach for forms. Feel free to use whatever you like and what suits your needs, the complete code with\n  comments for this example can be found <a href="" class="external" target="_parent">here</a>.\n</p>\n<ng-container *ngIf="{ isOk: ($stepStatus | async)?.state } as stepStatus">\n  <div class="alert alert-danger alert-icon mx-n3 mx-sm-0" *ngIf="!stepStatus.isOk && submitted" tabindex="-1">\n    <ng-container *ngIf="profileForm.invalid || profileForm.pending"\n    >The form contains error, you need to correct them before proceeding.</ng-container\n    >\n    <ng-container *ngIf="profileForm.valid"\n    >You need to save the information before continuing to the next step.</ng-container\n    >\n  </div>\n  <div class="alert alert-success alert-icon mx-n3 mx-sm-0" *ngIf="stepStatus.isOk && submitted && profileForm.valid">\n    <ng-container *ngIf="profileForm.valid">You\'re profile was successfully saved!</ng-container>\n  </div>\n</ng-container>\n<form [formGroup]="profileForm" (ngSubmit)="save()">\n  <div class="form-row">\n    <div class="form-group col-sm-6 col-xl-4">\n      <label for="inputFirstName">First name</label>\n      <input\n        type="email"\n        class="form-control"\n        [ngClass]="{\n          \'is-invalid\': firstName.invalid && firstName.touched && submitted,\n          \'is-valid\': firstName.valid && submitted\n        }"\n        id="inputFirstName"\n        placeholder="First name"\n        formControlName="firstName"\n        required\n      />\n      <div\n        [ngClass]="{ \'invalid-feedback\': firstName.invalid, \'valid-feedback\': firstName.valid }"\n        *ngIf="(firstName.dirty || firstName.touched) && submitted"\n      >\n        <ng-container *ngIf="firstName.errors?.required"\n          ><fa-icon icon="exclamation-triangle" class="mr-1"></fa-icon>This field can\'t be empty</ng-container\n        >\n        <ng-container *ngIf="firstName.valid"\n          ><fa-icon icon="check-circle" class="mr-1"></fa-icon>Field is valid</ng-container\n        >\n      </div>\n    </div>\n    <div class="form-group col-sm-6 col-xl-4">\n      <label for="inputLastName">Last name</label>\n      <input\n        type="email"\n        class="form-control"\n        [ngClass]="{\n          \'is-invalid\': lastName.invalid && lastName.touched && submitted,\n          \'is-valid\': lastName.valid && submitted\n        }"\n        id="inputLastName"\n        placeholder="Last name"\n        formControlName="lastName"\n        required\n      />\n      <div\n        [ngClass]="{ \'invalid-feedback\': lastName.invalid, \'valid-feedback\': lastName.valid }"\n        *ngIf="(lastName.dirty || lastName.touched) && submitted"\n      >\n        <ng-container *ngIf="lastName.errors?.required"\n          ><fa-icon icon="exclamation-triangle" class="mr-1"></fa-icon>This field can\'t be empty</ng-container\n        >\n        <ng-container *ngIf="lastName.valid"\n          ><fa-icon icon="check-circle" class="mr-1"></fa-icon>Field is valid</ng-container\n        >\n      </div>\n    </div>\n    <div class="form-group col-md col-xl-8">\n      <label for="inputEmail">Email</label>\n      <input\n        type="email"\n        class="form-control"\n        [ngClass]="{ \'is-invalid\': email.invalid && email.touched && submitted, \'is-valid\': email.valid && submitted }"\n        id="inputEmail"\n        placeholder="Email"\n        formControlName="email"\n        required\n        email\n      />\n      <div\n        [ngClass]="{\n          \'invalid-feedback\': email.invalid,\n          \'valid-feedback\': email.valid,\n          \'progress-feedback progress-50\': email.pending\n        }"\n        *ngIf="(email.dirty || email.touched) && submitted"\n      >\n        <ng-container *ngIf="email.errors?.required"\n          ><fa-icon icon="exclamation-triangle" class="mr-1"></fa-icon>This field can\'t be empty</ng-container\n        >\n        <ng-container *ngIf="email.errors?.email"\n          ><fa-icon icon="exclamation-triangle" class="mr-1"></fa-icon>Email address is invalid</ng-container\n        >\n        <ng-container *ngIf="email.errors?.emailIsTaken"\n          ><fa-icon icon="exclamation-triangle" class="mr-1"></fa-icon>This email has already been\n          registered</ng-container\n        >\n        <ng-container *ngIf="email.valid"\n          ><fa-icon icon="check-circle" class="mr-1"></fa-icon>Field is valid</ng-container\n        >\n        <ng-container *ngIf="email.pending"\n          ><div class="spinner spinner-xs mr-1 d-inline-block" style="vertical-align: -3px; z-index: 0;"></div>\n          Validating email</ng-container\n        >\n      </div>\n      <div class="progress-feedback" *ngIf="(!email.touched && !email.pending && !email.valid) || !submitted">\n        Enter any email except "john.doe@seb.se"\n      </div>\n    </div>\n    <div class="form-group col-xl-8">\n      <label for="inputAddress">Address</label>\n      <input type="text" class="form-control" id="inputAddress" placeholder="1234 Main St" formControlName="street" />\n    </div>\n    <div class="form-group col-xl-8">\n      <label for="inputAddress2">Address 2</label>\n      <input\n        type="text"\n        class="form-control"\n        id="inputAddress2"\n        placeholder="Apartment, studio, or floor"\n        formControlName="extra"\n      />\n    </div>\n  </div>\n  <div class="form-row">\n    <div class="form-group col-auto">\n      <label for="inputZip">Zip</label>\n      <input type="text" class="form-control" id="inputZip" style="width:100px;" formControlName="zip" />\n    </div>\n    <div class="form-group col col-sm-6 col-xl-4">\n      <label for="inputCity">City</label>\n      <input type="text" class="form-control" id="inputCity" formControlName="city" />\n    </div>\n  </div>\n  <div class="form-row">\n    <div class="form-group col col-sm-auto">\n      <div\n        [ngClass]="{\n          \'border-danger\': accept.invalid && submitted,\n          \'border-success\': accept.valid && submitted,\n          \'border rounded p-3\': submitted\n        }"\n      >\n        <div class="custom-control custom-checkbox">\n          <input\n            class="custom-control-input"\n            type="checkbox"\n            [ngClass]="{ \'is-invalid\': accept.invalid && submitted, \'is-valid\': accept.valid && submitted }"\n            id="gridCheck"\n            formControlName="accept"\n            required\n          />\n          <label class="custom-control-label" for="gridCheck">\n            Accept terms\n          </label>\n        </div>\n      </div>\n      <ng-container *ngIf="submitted">\n        <div class="small text-danger mt-1 mb-n1" *ngIf="accept.invalid">\n          <fa-icon icon="exclamation-triangle" class="mr-1"></fa-icon>You need to accept the terms\n        </div>\n        <div class="small text-success mt-1 mb-n1" *ngIf="accept.valid">\n          <fa-icon icon="check-circle" class="mr-1"></fa-icon>Terms accepted\n        </div>\n      </ng-container>\n    </div>\n  </div>\n</form>',this.component="import { ChangeDetectorRef, Component, ElementRef, OnDestroy, OnInit } from '@angular/core';\nimport { AbstractControl, FormBuilder, FormControl, FormGroup, ValidationErrors, Validators } from '@angular/forms';\nimport { Observable, Subject } from 'rxjs';\nimport { filter, takeUntil, tap } from 'rxjs/operators';\nimport { WizardControlService } from '@sebgroup/ng-wizard';\nimport { StepService, StepState } from '../services/step.service';\n\n@Component({\n  selector: 'app-reactive-form',\n  templateUrl: './reactive-form.component.html',\n})\nexport class ReactiveFormComponent implements OnInit, OnDestroy {\n  $stepStatus: Observable<StepState>; // observable for step status\n  unsubscribe$ = new Subject();\n  profileForm: FormGroup;\n  submitted = false;\n\n  get firstName() {\n    return this.profileForm.get('firstName');\n  }\n  get lastName() {\n    return this.profileForm.get('lastName');\n  }\n\n  get email() {\n    return this.profileForm.get('email');\n  }\n\n  get accept() {\n    return this.profileForm.get('accept');\n  }\n\n  get help() {\n    return this.profileForm.get('help');\n  }\n\n  constructor(\n    public stepService: StepService,\n    private fb: FormBuilder,\n    public controls: WizardControlService,\n    private cdr: ChangeDetectorRef,\n    private el: ElementRef\n  ) {\n    this.profileForm = fb.group({\n      firstName: ['', Validators.required],\n      lastName: ['', Validators.required],\n      email: ['', [Validators.required, Validators.email], this.checkValidEmail],\n      street: [''],\n      extra: [''],\n      city: [''],\n      zip: [''],\n      accept: ['', Validators.requiredTrue],\n      help: [true],\n    });\n\n    this.$stepStatus = this.stepService.getState('/form-and-route-guard/form-step').pipe(\n      filter(res => res && res.data),\n      tap(res => this.profileForm.setValue(res.data)),\n      tap(_ => this.cdr.detectChanges()),\n    );\n  }\n\n  /**\n   * Save form data if form is valid\n   */\n  save() {\n    if (this.profileForm.valid) {\n      this.stepService.saveState('/form-and-route-guard/form-step', this.profileForm.valid, this.profileForm.value);\n    }\n  }\n\n  /**\n   * Focus first invalid form control or alert message if it exists\n   */\n  private _focusInvalid() {\n    if (this.profileForm.invalid) {\n      const invalid: string = Object.keys(this.profileForm.controls)\n        .find(key => this.profileForm.controls[key].invalid);\n\n      if (invalid) {\n        this.el.nativeElement.querySelector('[formcontrolname=\"' + invalid + '\"]').focus();\n      }\n    } else {\n      const alertMessage = this.el.nativeElement.querySelector('.alert.alert-danger');\n      if (alertMessage) {\n        alertMessage.focus();\n      }\n    }\n  }\n\n  /**\n   * Check if email is valid\n   * @param control - control to be validated\n   */\n  checkValidEmail(control: AbstractControl): ValidationErrors | null {\n    return new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (control.value === 'john.doe@seb.se') {\n          resolve({ emailIsTaken: true });\n        } else {\n          resolve(null);\n        }\n      }, 3000);\n    });\n  }\n\n  ngOnInit() {\n    // subscribe to control events\n    this.controls.controlEvent$.pipe(takeUntil(this.unsubscribe$)).subscribe(control => {\n      switch (control.type) {\n        case 'next':\n          this.submitted = true;\n          this.profileForm.markAllAsTouched();\n          this._focusInvalid();\n          break;\n        case 'save':\n          this.submitted = true;\n          this.profileForm.markAllAsTouched();\n          this.save();\n          this._focusInvalid();\n          break;\n        case 'cancel':\n          this.profileForm.reset();\n          this.stepService.saveState('/form-and-route-guard/form-step', this.profileForm.valid, this.profileForm.value);\n          this.submitted = false;\n      }\n    });\n  }\n\n  ngOnDestroy() {\n    this.unsubscribe$.next();\n    this.unsubscribe$.complete();\n  }\n}",this.routeConfig="// setup routes and wizard steps in route module\nimport { NgModule } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { WizardSteps } from '@sebgroup/ng-wizard';\nimport { StepGuard } from './guards/step.guard';\nimport { ProtectedStepInfoComponent } from './components/secondary-content/protected-step-info/protected-step-info.component';\nimport { ProtectedStepComponent } from './components/steps/protected-step/protected-step.component';\nimport { ReactiveFormComponent } from './components/steps/reactive-form/reactive-form.component';\nimport { FormAndRouteGuardComponent } from './form-and-route-guard.component';\n\nconst routes: WizardSteps = [\n  {\n    path: '',\n    component: FormAndRouteGuardComponent,\n    children: [\n      { path: '', redirectTo: 'form-step' },\n      { path: 'form-step', component: ReactiveFormComponent,\n        data: {\n          heading: 'Protecting steps',\n          controls: [{\n            name: 'Save form',\n            type: 'save'\n          }, {\n            name: 'Reset form',\n            class: 'btn-outline-danger',\n            type: 'cancel'\n          }, {\n            name: 'Next',\n            path: 'protected-step',\n            type: 'next'\n          }],\n          secondaryContent: {\n            component: ProtectedStepInfoComponent\n          }\n        }\n      },\n      { path: 'protected-step', component: ProtectedStepComponent,\n        data: {\n          heading: 'Protected step',\n          controls: [{\n            name: 'Go back',\n            path: 'form-step',\n            type: 'prev'\n          }]\n        }, canActivate: [StepGuard]\n      },\n      { path: '**', redirectTo: 'form-step', pathMatch: 'full' }],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class FormAndRouteGuardRoutingModule {}\n"},il=t.nb({encapsulation:2,styles:[],data:{}});function ol(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,1,"h3",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Wieee! You've made it past our route guard:D"])),(l()(),t.pb(2,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Here's the code for setting it up!"])),(l()(),t.pb(4,0,null,null,13,"div",[["class","card bg-light my-3 mx-n3 mx-sm-0"]],null,null,null,null,null)),(l()(),t.pb(5,0,null,null,1,"h4",[["class","card-header"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Code"])),(l()(),t.pb(7,0,null,null,10,"div",[["class","card-body"]],null,null,null,null,null)),(l()(),t.pb(8,0,null,null,1,"app-code-snippet",[],null,null,null,el.b,el.a)),t.ob(9,114688,null,0,tl.a,[],{data:[0,"data"],lang:[1,"lang"],title:[2,"title"]},null),(l()(),t.pb(10,0,null,null,1,"app-code-snippet",[],null,null,null,el.b,el.a)),t.ob(11,114688,null,0,tl.a,[],{data:[0,"data"],lang:[1,"lang"],title:[2,"title"]},null),(l()(),t.pb(12,0,null,null,1,"app-code-snippet",[],null,null,null,el.b,el.a)),t.ob(13,114688,null,0,tl.a,[],{data:[0,"data"],lang:[1,"lang"],title:[2,"title"]},null),(l()(),t.pb(14,0,null,null,1,"app-code-snippet",[],null,null,null,el.b,el.a)),t.ob(15,114688,null,0,tl.a,[],{data:[0,"data"],lang:[1,"lang"],title:[2,"title"]},null),(l()(),t.pb(16,0,null,null,1,"app-code-snippet",[],null,null,null,el.b,el.a)),t.ob(17,114688,null,0,tl.a,[],{data:[0,"data"],lang:[1,"lang"],title:[2,"title"]},null)],(function(l,n){var e=n.component;l(n,9,0,e.routerOutlet,"markup","form-and-route-guard.component.html (app.component.html)"),l(n,11,0,e.routerOutletTs,"typescript","form-and-route-guard.component.ts (app.component.ts)"),l(n,13,0,e.template,"markup","reactive-form.component.html (step 1)"),l(n,15,0,e.component,"typescript","reactive-form.component.ts (step 1)"),l(n,17,0,e.routeConfig,"typescript","form-and-route-guard-routing.module.ts (app-routing.module.ts)")}),null)}var rl=t.lb("app-protected-step",ul,(function(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,1,"app-protected-step",[],null,null,null,ol,il)),t.ob(1,49152,null,0,ul,[],null,null)],null,null)}),{},{},[]),al=function(){function l(){_classCallCheck(this,l)}return _createClass(l,[{key:"ngOnInit",value:function(){}}]),l}(),sl=t.nb({encapsulation:2,styles:[],data:{}});function cl(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,11,"div",[["class","alert alert-warning alert-icon mx-n3 mx-sm-0"]],null,null,null,null,null)),(l()(),t.pb(1,0,null,null,1,"h4",[["class","alert-heading"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Next step is protected"])),(l()(),t.pb(3,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,[" The following step relies on a route guard which checks if the profile has been saved before the user can proceed. "])),(l()(),t.pb(5,0,null,null,1,"h5",[["class","alert-heading"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["To continue, make sure:"])),(l()(),t.pb(7,0,null,null,4,"ol",[["class","list-group list-group-ordered"]],null,null,null,null,null)),(l()(),t.pb(8,0,null,null,1,"li",[["class","list-group-item pr-0"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["All required form details are provided and valid."])),(l()(),t.pb(10,0,null,null,1,"li",[["class","list-group-item pr-0"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["The data has been saved."])),(l()(),t.pb(12,0,null,null,4,"div",[["class","alert alert-info alert-icon mx-n3 mx-sm-0"]],null,null,null,null,null)),(l()(),t.pb(13,0,null,null,1,"h4",[["class","alert-heading"]],null,null,null,null,null)),(l()(),t.Ib(-1,null,["Code example"])),(l()(),t.pb(15,0,null,null,1,"p",[],null,null,null,null,null)),(l()(),t.Ib(-1,null,["The code for this example is available in the next step."]))],null,null)}var dl,pl=t.lb("app-protected-step-info",al,(function(l){return t.Kb(0,[(l()(),t.pb(0,0,null,null,1,"app-protected-step-info",[],null,null,null,cl,sl)),t.ob(1,114688,null,0,al,[],null,null)],(function(l,n){l(n,1,0)}),null)}),{},{},[]),ml=e("i9Na"),bl=e("6uGs"),fl=e("PCNd"),gl=e("Q9Eo"),vl=e("Qyyb"),hl=e("c89C"),Cl=((dl=function(){function l(n,e){_classCallCheck(this,l),this.stepService=n,this.router=e}return _createClass(l,[{key:"canActivate",value:function(l,n){var e=this;return this.stepService.getState(this.router.routerState.snapshot.url).pipe(Object(S.a)((function(l){return l&&l.state||e.router.parseUrl("/form-and-route-guard")})))}}]),l}()).ngInjectableDef=t.Ob({factory:function(){return new dl(t.Pb(_),t.Pb(s.l))},token:dl,providedIn:"root"}),dl),yl={heading:"Protecting steps",controls:[{name:"Save form",type:"save"},{name:"Clear form",class:"btn-outline-danger",type:"cancel"},{name:"Next",path:"protected-step",type:"next"}],secondaryContent:{component:al,class:"col-12 col-lg-auto order-0 order-md-1 ml-lg-3"}},Il={heading:"Protected step",controls:[{name:"Go back",path:"form-step",type:"prev"}]},Al=function l(){_classCallCheck(this,l)};e.d(n,"FormAndRouteGuardModuleNgFactory",(function(){return kl}));var kl=t.mb(u,[],(function(l){return t.xb([t.yb(512,t.j,t.X,[[8,[i.b,i.a,o.a,v,nl,rl,pl]],[3,t.j],t.v]),t.yb(4608,h.n,h.m,[t.s,[2,h.w]]),t.yb(4608,C.t,C.t,[]),t.yb(4608,C.g,C.g,[]),t.yb(4608,ml.d,ml.d,[t.z,[2,bl.a],d.b,ml.e]),t.yb(1073742336,h.c,h.c,[]),t.yb(1073742336,C.s,C.s,[]),t.yb(1073742336,C.j,C.j,[]),t.yb(1073742336,c.j,c.j,[]),t.yb(1073742336,C.p,C.p,[]),t.yb(1073742336,ml.c,ml.c,[]),t.yb(1073742336,fl.a,fl.a,[c.d]),t.yb(1073742336,s.p,s.p,[[2,s.u],[2,s.l]]),t.yb(1073742336,gl.a,gl.a,[]),t.yb(1073742336,vl.a,vl.a,[]),t.yb(1073742336,hl.a,hl.a,[c.d]),t.yb(1073742336,Al,Al,[]),t.yb(1073742336,u,u,[]),t.yb(256,ml.e,{gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1},[]),t.yb(1024,s.j,(function(){return[[],[],[{path:"",component:m,children:[{path:"",redirectTo:"form-step"},{path:"form-step",component:T,data:yl},{path:"protected-step",component:ul,data:Il,canActivate:[Cl]},{path:"**",redirectTo:"form-step",pathMatch:"full"}]}]]}),[])])}))}}]);